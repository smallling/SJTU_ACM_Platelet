	对于线段树每个结点维护两个值：ans和max，ans表示只考虑这个区间的可视区间的答案，max表示这个区间的最大值。那么问题的关键就在于如何合并两个区间，显然左区间的答案肯定可以作为总区间的答案，那么接下来就是看右区间有多少个在新加入左区间的约束后是可行的。考虑如果右区间最大值都小于等于左区间最大值那么右区间就没有贡献了，相当于是被整个挡住了。
　　如果大于最大值，就再考虑右区间的两个子区间：左子区间、右子区间，加入左子区间的最大值小于等于左区间最大值，那么就递归处理右子区间；否则就递归处理左子区间，然后加上右子区间原本的答案。考虑这样做的必然性：因为加入左区间最高的比左子区间最高的矮，那么相当于是左区间对于右子区间没有约束，都是左子区间产生的约束。但是右子区间的答案要用右区间答案-左子区间答案，不能直接调用右子区间本身答案，因为其本身答案没有考虑左子区间的约束。
